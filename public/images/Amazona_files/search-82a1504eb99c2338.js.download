(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8161:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(5628)}])},8657:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(5893),a=r(1664),s=(r(7294),r(4221));function l(e){var n=e.product,r=e.addToCartHandler;return(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)(a.default,{href:"/product/".concat(n.slug),children:(0,t.jsx)("a",{children:(0,t.jsx)("img",{src:n.image,alt:n.name,className:"rounded shadow"})})}),(0,t.jsxs)("div",{className:"center-content p-5",children:[(0,t.jsx)("h2",{className:"text-lg",children:(0,t.jsx)(a.default,{href:"/product/".concat(n.slug),children:n.name})}),(0,t.jsx)(s.Z,{rating:n.rating}),(0,t.jsx)("p",{className:"mb-2",children:n.brand}),(0,t.jsxs)("p",{children:["$",n.price]}),(0,t.jsx)("button",{onClick:function(){return r(n)},className:"primary-button",type:"button",children:"Add to cart"})]})]},n.slug)}},4221:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5893),a=r(6749),s=r(7901),l=r(3342);r(7294);function c(e){var n=e.rating,r=e.numReviews;return(0,t.jsxs)("div",{className:"flex items-center text-amber-300",children:[n>=.5?(0,t.jsx)(s.Z,{className:"h-5 w-5"}):(0,t.jsx)(a.Z,{className:"h-5 w-5"}),n>=1.5?(0,t.jsx)(s.Z,{className:"h-5 w-5"}):(0,t.jsx)(a.Z,{className:"h-5 w-5"}),n>=2.5?(0,t.jsx)(s.Z,{className:"h-5 w-5"}):(0,t.jsx)(a.Z,{className:"h-5 w-5"}),n>=3.5?(0,t.jsx)(s.Z,{className:"h-5 w-5"}):(0,t.jsx)(a.Z,{className:"h-5 w-5"}),n>=4.5?(0,t.jsx)(s.Z,{className:"h-5 w-5"}):(0,t.jsx)(a.Z,{className:"h-5 w-5"})," ",r&&(0,t.jsxs)("a",{href:"#reviews",className:"flex ",children:[r," ",(0,t.jsx)(l.Z,{className:"h-5 w-5"})]})]})}},5628:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return y},default:function(){return N}});var t=r(4051),a=r.n(t),s=r(5893),l=r(1163),c=r(7294),i=r(3399),o=r(8657),u=r(2148),d=r(9669),h=r.n(d),f=r(9965),m=r(782);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function p(e,n,r,t,a,s,l){try{var c=e[s](l),i=c.value}catch(o){return void r(o)}c.done?n(i):Promise.resolve(i).then(t,a)}function x(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){x(e,n,r[n])}))}return e}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=[{name:"$1 to $50",value:"1-50"},{name:"$51 to $200",value:"51-200"},{name:"$201 to $1000",value:"201-1000"}],b=[1,2,3,4,5],y=!0;function N(e){var n=(0,l.useRouter)(),r=n.query,t=r.query,d=void 0===t?"all":t,v=r.category,x=void 0===v?"all":v,y=r.brand,N=void 0===y?"all":y,_=r.price,C=void 0===_?"all":_,Z=r.rating,k=void 0===Z?"all":Z,A=r.sort,O=void 0===A?"featured":A,P=r.page,E=void 0===P?1:P,R=e.products,S=e.countProducts,$=e.categories,T=e.brands,q=e.pages,I=function(e){var r=e.page,t=e.category,a=e.brand,s=e.sort,l=e.min,c=e.max,i=e.searchQuery,o=e.price,u=e.rating,d=n.pathname,h=n.query;r&&(h.page=r),i&&(h.searchQuery=i),s&&(h.sort=s),t&&(h.category=t),a&&(h.brand=a),o&&(h.price=o),u&&(h.rating=u),l&&(h.min,h.min),c&&(h.max,h.max),n.push({pathname:d,query:h})},L=(0,c.useContext)(u.y),M=L.state,B=L.dispatch,H=function(){var e,r=(e=a().mark((function e(r){var t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.cart.cartItems.find((function(e){return e._id===r._id})),s=t?t.quantity+1:1,e.next=4,h().get("/api/products/".concat(r._id));case 4:if(!(e.sent.data.countInStock<s)){e.next=8;break}return m.Am.error("Sorry. Product is out of stock"),e.abrupt("return");case 8:B({type:"CART_ADD_ITEM",payload:j({},r,{quantity:s})}),n.push("/cart");case 10:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function l(e){p(s,t,a,l,c,"next",e)}function c(e){p(s,t,a,l,c,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,s.jsx)(i.Z,{title:"search",children:(0,s.jsxs)("div",{className:"grid md:grid-cols-4 md:gap-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"my-3",children:[(0,s.jsx)("h2",{children:"Categories"}),(0,s.jsxs)("select",{className:"w-full",value:x,onChange:function(e){I({category:e.target.value})},children:[(0,s.jsx)("option",{value:"all",children:"All"}),$&&$.map((function(e){return(0,s.jsx)("option",{value:e,children:e},e)}))]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h2",{children:"Brands"}),(0,s.jsxs)("select",{className:"w-full",value:N,onChange:function(e){I({brand:e.target.value})},children:[(0,s.jsx)("option",{value:"all",children:"All"}),T&&T.map((function(e){return(0,s.jsx)("option",{value:e,children:e},e)}))]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h2",{children:"Prices"}),(0,s.jsxs)("select",{className:"w-full",value:C,onChange:function(e){I({price:e.target.value})},children:[(0,s.jsx)("option",{value:"all",children:"All"}),w&&w.map((function(e){return(0,s.jsx)("option",{value:e.value,children:e.name},e.value)}))]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h2",{children:"Ratings"}),(0,s.jsxs)("select",{className:"w-full",value:k,onChange:function(e){I({rating:e.target.value})},children:[(0,s.jsx)("option",{value:"all",children:"All"}),b&&b.map((function(e){return(0,s.jsxs)("option",{value:e,children:[e," star",e>1&&"s"," & up"]},e)}))]})]})]}),(0,s.jsxs)("div",{className:"md:col-span-3",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between border-b-2 pb-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[0===R.length?"No":S," Results","all"!==d&&""!==d&&" : "+d,"all"!==x&&" : "+x,"all"!==N&&" : "+N,"all"!==C&&" : Price "+C,"all"!==k&&" : Rating "+k+" & up","\xa0","all"!==d&&""!==d||"all"!==x||"all"!==N||"all"!==k||"all"!==C?(0,s.jsx)("button",{onClick:function(){return n.push("/search")},children:(0,s.jsx)(f.Z,{className:"h-5 w-5"})}):null]}),(0,s.jsxs)("div",{children:["Sort by"," ",(0,s.jsxs)("select",{value:O,onChange:function(e){I({sort:e.target.value})},children:[(0,s.jsx)("option",{value:"featured",children:"Featured"}),(0,s.jsx)("option",{value:"lowest",children:"Price: Low to High"}),(0,s.jsx)("option",{value:"highest",children:"Price: High to Low"}),(0,s.jsx)("option",{value:"toprated",children:"Customer Reviews"}),(0,s.jsx)("option",{value:"newest",children:"Newest Arrivals"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 ",children:R.map((function(e){return(0,s.jsx)(o.Z,{product:e,addToCartHandler:H},e._id)}))}),(0,s.jsx)("ul",{className:"flex",children:R.length>0&&g(Array(q).keys()).map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"default-button m-2 ".concat(E==e+1?"font-bold":""," "),onClick:function(){I({page:e+1})},children:e+1})},e)}))})]})]})]})})}},6749:function(e,n,r){"use strict";var t=r(7294);const a=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}))}));n.Z=a},3342:function(e,n,r){"use strict";var t=r(7294);const a=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}));n.Z=a},7901:function(e,n,r){"use strict";var t=r(7294);const a=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}))}));n.Z=a}},function(e){e.O(0,[961,859,399,774,888,179],(function(){return n=8161,e(e.s=n);var n}));var n=e.O();_N_E=n}]);